/*gobal window: false, jQuery: false *//**
 * Standard cross-client helpful functions
 *
 * Namespace approach from a combo of http://stackoverflow.com/a/5947280/1939831 and http://stackoverflow.com/a/10269380/1939831
 *
 * @requires jQuery
 *
 * @module $thesolver
 *//** @namespace Namespace for $thesolver classes and functions. */(function(e,t){"use strict";var n="0.1";e.html={encode:function(e){return t("<div />").text(e).html()},hyperlink:function(n,r,i,s,o,u,a){var f="";i||(i="_blank");if(undefined===s||!0===s)s=r;if(!u){r=e.html.encode(r);!1!==s&&(s=e.html.encode(s))}o?o=' class="'+o+'"':o="";!1!==s&&(s=' title="'+s+'"');typeof a=="object"&&t.each(a,function(e,t){f=f+" "+e+'="'+t+'"'});return'<a href="'+encodeURI(n)+'" target="'+i+'"'+s+o+f+">"+r+"</a>"},close_html:function(e){var n,r,i,s,o,u,a,f=["img","br","hr","input"],l=/<([a-z])+\b[^>]*>/img;e.match(/^.*&[^;]*$/)&&(e=e.replace(/^(.*)&[^;]*$/m,"$1"));e.match(/^.*<[^>]*$/)&&(e=e.replace(/^(.*)<[^>]*$/m,"$1"));while((n=l.exec(e))!==null){r=n[0];i=n[1];u=new RegExp("<"+i+"\\b[^>]*>","im");a=new RegExp("</"+i+">","im");s=e.split(u).length;o=e.split(a).length;s>o&&(e=e+"</"+i+">")}return e},trunc_ellipsis:function(n,r,i,s,o){var u=!1;i||(i=!1);s||(s=!1);o||(o=!1);n=t.trim(n);var a=n;if(n.length>r){u=!0;n=t.trim(n.substr(0,r-3));!s&&-1===a.indexOf(n+" ")&&(n=n.substr(0,n.lastIndexOf(" ")));o&&(n=e.html.close_html(n))}i?n=e.html.encode(n)+(u?"&hellip;":""):u&&(o?n=n.replace(/((<\/[^>]+>){1,})$/i,"&hellip;$1"):n+="...");return n}};e.datetime={length_in_human:function(e){var t=e%60,n=Math.floor(e/60),r=Math.floor(n/60);n=n%60+"";t+="";return r?r+":"+(n.length===1?"0"+n:n)+":"+(t.length===1?"0"+t:t):n?n+":"+(t.length===1?"0"+t:t):t},length_in_hhmmss:function(e){var t=e%60,n=Math.floor(e/60),r=Math.floor(n/60)+"";n=n%60+"";t+="";return(r.length===1?"0"+r:r)+":"+(n.length===1?"0"+n:n)+":"+(t.length===1?"0"+t:t)}};e.string={sort_title:function(e,t,n){undefined===t&&(t=!0);undefined===n&&(n=!0);t&&(e=e.replace(/["']/g,""));return n?e.replace(/^(The|A|An)\s+(.*)$/i,"$2, $1").toUpperCase():e.replace(/^(The|A|An)\s+(.*)$/i,"$2, $1")},size_in_human:function(e,t){undefined===t&&(t=1);return e>1073741824?(e/1073741824).toFixed(t)+"GB":e>1048576?(e/1048576).toFixed(t)+"MB":e>1024?(e/1024).toFixed(t)+"KB":e+""}};e.regex={valid:function(e){try{var t=new RegExp(e)}catch(n){t=!1}return t}}})(window.$thesolver=window.$thesolver||{},window.jQuery);